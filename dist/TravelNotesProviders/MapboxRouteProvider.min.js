/**
 * 
 * @source: https://github.com/wwwouaiebe/leaflet.TravelNotes
 * 
 * @licstart  The following is the entire license notice for the
 * JavaScript code in this page.
 * 
 * leaflet.travelnotes - version 3.0.0
 * Build 02774 - 2021-09-08T11:44:38+0200 
 * Copyright 2017 2021 wwwouaiebe 
 * Contact: https://www.ouaie.be/
 * License: GPL-3.0
 * 
 * The JavaScript code in this page is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.
 * 
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 * 
 * @licend  The above is the entire license notice
 * for the JavaScript code in this page.
 * 
 */


!function(){"use strict";
/**
	@------------------------------------------------------------------------------------------------------------------------------

	@file Constants.js
	@copyright Copyright - 2017 2021 - wwwouaiebe - Contact: https://www.ouaie.be/
	@license GNU General Public License
	@private

	@------------------------------------------------------------------------------------------------------------------------------
	*/Object.freeze({minColorValue:0,maxColorValue:255,rowsNumber:6,cellsNumber:6,deltaColor:51,sliderMaxValue:100,sliderStep:20,initialRed:0}),Object.freeze({notSaved:"ðŸ”´",modified:"ðŸŸ¡",saved:"ðŸŸ¢"});const e=Object.freeze({fixed:2,invalid:-1,defaultValue:0,metersInKm:1e3});Object.freeze({refusedByUser:-1,disabled:0,inactive:1,active:2}),Object.freeze({invalidPane:"43a6a53e-008a-4910-80a6-7a87d301ea15",itineraryPane:"8fbf0da7-4e6f-4bc7-8e20-1388461ccde7",travelNotesPane:"dffe782b-07df-4b81-a318-f287c0cf5ec6",searchPane:"228f00d7-43a8-4c13-897d-70400cb6dd58"});const t=Object.freeze({fixed:2,defaultValue:0}),r=Object.freeze({defaultValue:0,fixed:6,maxLat:90,minLat:-90,maxLng:180,minLng:-180});Object.freeze({notEdited:0,editedNoChange:1,editedChanged:2}),Object.freeze({margin:100,height:500,width:1e3,yDeltaText:30,xDeltaText:10,vScales:[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3],hScales:[1,2,5,10,20,50,100,200,500,1e3,2e3,5e3,1e4,2e4,5e4,1e5]}),Object.freeze({width:40,height:40,svgViewboxDim:200}),Object.freeze({d0:0,d90:90,d180:180,d270:270,d360:360,d540:540,toRadians:Math.PI/180,fromRadians:180/Math.PI}),Object.freeze({atStart:-1,onRoute:0,atEnd:1});const i=new class{_python2Round(e){return Math.floor(Math.abs(e)+.5)*(0<=e?1:-1)}_encodeDelta(e,t,r){let i=this._python2Round(e*r),a=this._python2Round(t*r),n=i-a;n<<=1,0>i-a&&(n=~n);let s="";for(;32<=n;)s+=String.fromCharCode(63+(32|31&n)),n>>=5;return s+=String.fromCharCode(n+63),s}_index=0;_decodeDelta(e){let t=null,r=0,i=0;do{t=e.charCodeAt(this._index++)-63,i|=(31&t)<<r,r+=5}while(32<=t);return 1&i?~(i>>1):i>>1}constructor(){}encode(e,t){if(!e.length)return"";let r=t.length,i=Array.from(t,(e=>Math.pow(10,e))),a="";for(let t=0;t<r;t++)a+=this._encodeDelta(e[0][t],0,i[t]);for(let t=1;t<e.length;t++){let n=e[t],s=e[t-1];for(let e=0;e<r;e++)a+=this._encodeDelta(n[e],s[e],i[e])}return a}decode(e,t){let r=t.length;if(!e||0===e.length)return[];this._index=0;let i=[],a=Array.from(t,(e=>Math.pow(10,e))),n=new Array(r).fill(0);for(;this._index<e.length;){let t=new Array(r).fill(0);for(let i=0;i<r;i++)n[i]+=this._decodeDelta(e),t[i]=n[i]/a[i];i.push(t)}return i}};class a{static _objId=0;static get nextObjId(){return++a._objId}}
/**
	@------------------------------------------------------------------------------------------------------------------------------

	@file Version.js
	@copyright Copyright - 2017 2021 - wwwouaiebe - Contact: https://www.ouaie.be/
	@license GNU General Public License
	@private

	@------------------------------------------------------------------------------------------------------------------------------
	*/const n="2.3.0";class s{_objTypeName="";_validObjTypeNames=["Itinerary","ItineraryPoint","Maneuver","Note","Route","Travel","WayPoint"];constructor(e){if(-1===this._validObjTypeNames.indexOf(e))throw new Error("Invalid ObjType name : "+e);this._objTypeName=e}get name(){return this._objTypeName}get version(){return n}get jsonObject(){return{name:this._objTypeName,version:n}}validate(e){if(!Object.getOwnPropertyNames(e).includes("name"))throw new Error("No name for "+this._objTypeName);if(this._objTypeName!==e.name)throw new Error("Invalid name for "+this._objTypeName);if(!Object.getOwnPropertyNames(e).includes("version"))throw new Error("No version for "+this._objTypeName)}}const o=new s("ItineraryPoint");class l{_objId=-1;_upgradeObject(e){switch(e.objType.version){case"1.0.0":case"1.1.0":case"1.2.0":case"1.3.0":case"1.4.0":case"1.5.0":case"1.6.0":e.elev=t.defaultValue;case"1.7.0":case"1.7.1":case"1.8.0":case"1.9.0":case"1.10.0":case"1.11.0":case"1.12.0":case"1.13.0":case"2.0.0":case"2.1.0":case"2.2.0":e.objType.version="2.3.0";break;default:throw new Error("invalid version for "+o.name)}}_validateObject(e){if(!Object.getOwnPropertyNames(e).includes("objType"))throw new Error("No objType for "+o.name);o.validate(e.objType),o.version!==e.objType.version&&this._upgradeObject(e);let t=Object.getOwnPropertyNames(e);return["lat","lng","distance","elev","objId"].forEach((e=>{if(!t.includes(e))throw new Error("No "+e+" for "+o.name)})),e}constructor(){this.lat=r.defaultValue,this.lng=r.defaultValue,this.distance=e.defaultValue,this.elev=t.defaultValue,this._objId=a.nextObjId}get latLng(){return[this.lat,this.lng]}set latLng(e){this.lat=e[0],this.lng=e[1]}get objType(){return o}get objId(){return this._objId}get jsonObject(){return{lat:parseFloat(this.lat.toFixed(r.fixed)),lng:parseFloat(this.lng.toFixed(r.fixed)),distance:parseFloat(this.distance.toFixed(e.fixed)),elev:parseFloat(this.elev.toFixed(t.fixed)),objId:this._objId,objType:o.jsonObject}}set jsonObject(i){let n=this._validateObject(i);this.lat=n.lat||r.defaultValue,this.lng=n.lng||r.defaultValue,this.distance=n.distance||e.defaultValue,this.elev=n.elev||t.defaultValue,this._objId=a.nextObjId,this.validateData()}validateData(){"number"!=typeof this.lat&&(this.lat=r.defaultValue),"number"!=typeof this.lng&&(this.lng=r.defaultValue),"number"!=typeof this.distance&&(this.distance=e.defaultValue),"number"!=typeof this.elev&&(this.elev=t.defaultValue)}}const d=Object.freeze(new class{_validityMap=new Map;_parser=new DOMParser;_addHtmlEntities(e){return e.replaceAll(/</g,"&lt;").replaceAll(/>/g,"&gt;").replaceAll(/"/g,"&quot;").replaceAll(/\u0027/g,"&apos;").replaceAll(/\u0a00/g,"&nbsp;")}_stringify(e){let t="",r="",i=e.childNodes;for(let a=0;a<i.length;a++){let i=e.childNodes[a],n=i.nodeName.toLowerCase(),s=this._validityMap.get(n);if(s){s=s.concat(["id","class","dir","title","tanwidth","tanheight"]);let e="svg"===n||"text"===n||"polyline"===n;t+="<"+n,i.hasAttribute("target")&&(t+=' rel="noopener noreferrer"'),s.forEach((a=>{if(e)i.hasAttributeNS(null,a)&&(t+=" "+a+'="'+this._addHtmlEntities(i.getAttribute(a))+'"',i.removeAttribute(a));else if(i.hasAttribute(a))if("href"===a||"src"===a){let e=this.sanitizeToUrl(i.getAttribute(a),a).url;""===e?r+="\nAn invalid url ("+i.getAttribute(a)+") was removed from a "+a+" attribute":t+=" "+a+'="'+e+'"',i.removeAttribute(a)}else t+=" "+a+'="'+this._addHtmlEntities(i.getAttribute(a))+'"',i.removeAttribute(a)})),t+=">";let a="",o="";[a,o]=this._stringify(i),t+=a,r+=o,t+="</"+n+">"}else"#text"===n?t+=this._addHtmlEntities(i.nodeValue):r+="\nAn invalid tag "+n+" was removed";if(i.hasAttributes)for(let e=0;e<i.attributes.length;e++)"rel"!==i.attributes[e].name&&(r+="\nAn unsecure attribute "+i.attributes[e].name+'="'+i.attributes[e].value+'" was removed.')}return[t,r]}_cloneNode(e,t){let r=e.childNodes;for(let i=0;i<r.length;i++){let r=e.childNodes[i],a=r.nodeName.toLowerCase(),n=this._validityMap.get(a);if(n){n=n.concat(["id","class","dir","title","tanwidth","tanheight"]);let e="svg"===a||"text"===a||"polyline"===a,i=e?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a);if(n.forEach((t=>{if(e)r.hasAttributeNS(null,t)&&(i.setAttributeNS(null,t,r.getAttribute(t)),r.removeAttributeNS(null,t));else if(r.hasAttribute(t))if("href"===t||"src"===t){let e=this.sanitizeToUrl(r.getAttribute(t),t).url;""!==e&&i.setAttribute(t,e)}else i.setAttribute(t,r.getAttribute(t))})),r.hasAttribute("style")){r.getAttribute("style").split(";").forEach((e=>{let t=e.split(":");2!==t.length||"width"!==t[0].trim()&&"height"!==t[0].trim()||(i.style[t[0].trim()]=t[1].trim())}))}r.hasAttribute("target")&&i.setAttribute("rel","noopener noreferrer"),t.appendChild(i),this._cloneNode(r,i)}else"#text"===a&&t.appendChild(document.createTextNode(r.nodeValue))}}constructor(){this._validityMap.set("a",["href","target"]),this._validityMap.set("div",[]),this._validityMap.set("del",[]),this._validityMap.set("em",[]),this._validityMap.set("figcaption",[]),this._validityMap.set("figure",[]),this._validityMap.set("h1",[]),this._validityMap.set("h2",[]),this._validityMap.set("h3",[]),this._validityMap.set("h4",[]),this._validityMap.set("h5",[]),this._validityMap.set("h6",[]),this._validityMap.set("hr",[]),this._validityMap.set("img",["src","alt","width","height"]),this._validityMap.set("ins",[]),this._validityMap.set("li",[]),this._validityMap.set("mark",[]),this._validityMap.set("ol",[]),this._validityMap.set("p",[]),this._validityMap.set("s",[]),this._validityMap.set("small",[]),this._validityMap.set("strong",[]),this._validityMap.set("span",[]),this._validityMap.set("sub",[]),this._validityMap.set("sup",[]),this._validityMap.set("ul",[]),this._validityMap.set("svg",["xmlns","viewBox","class"]),this._validityMap.set("text",["x","y","text-anchor"]),this._validityMap.set("polyline",["points","class","transform"])}sanitizeToColor(e){let t=e.match(/^\u0023[0-9,A-F,a-f]{6}$/);return t?t[0]:null}sanitizeToUrl(e,t="href"){let r=this._parser.parseFromString("<div>"+e+"</div>","text/html");if(!r||"#document"!==r.nodeName)return{url:"",errorsString:"Parsing error"};let i=r.body.firstChild,a="";for(let e=0;e<i.childNodes.length;e++){if("#text"!==i.childNodes[e].nodeName)return{url:"",errorsString:"Invalid characters found in the url"};a+=i.childNodes[e].nodeValue}if(a=a.replaceAll(/</g,"").replaceAll(/>/g,"").replaceAll(/"/g,"").replaceAll(/\u0027/g,"").replaceAll(/&lt;/g,"").replaceAll(/&gt;/g,"").replaceAll(/&quot;/g,"").replaceAll(/&apos;/g,"").replaceAll(/%3C/g,"").replaceAll(/%3c/g,"").replaceAll(/%3E/g,"").replaceAll(/%3e/g,"").replaceAll(/%22/g,"").replaceAll(/%27/g,""),a!==e)return{url:"",errorsString:"Invalid characters found in the url"};let n=["https:"];if("http:"!==window.location.protocol&&"href"!==t||n.push("http:"),"href"===t){n.push("mailto:"),n.push("sms:"),n.push("tel:");let e=a.match(/^\u0023\w*/);if(e&&a===e[0])return{url:a,errorsString:""}}"src"===t&&n.push("data:");let s=null;try{s=new URL(a)}catch(e){return{url:"",errorsString:"Invalid url string"}}if(-1===n.indexOf(s.protocol))return{url:"",errorsString:"Invalid protocol "+s.protocol};if(-1!==["sms:","tel:"].indexOf(s.protocol)&&s.pathname.match(/^\+[0-9,*,\u0023]*$/))return{url:a,errorsString:""};try{encodeURIComponent(s.href)}catch(e){return{url:"",errorsString:"Invalid character in url"}}return{url:a,errorsString:""}}sanitizeToJsString(e){let t=this._parser.parseFromString("<div>"+e+"</div>","text/html");if(!t||"#document"!==t.nodeName)return"";let r=t.body.firstChild,i="";for(let e=0;e<r.childNodes.length;e++){if("#text"!==r.childNodes[e].nodeName)return"";i+=r.childNodes[e].nodeValue}return i=i.replaceAll(/</g,"â‰º").replaceAll(/>/g,"â‰»").replaceAll(/"/g,"â€³").replaceAll(/\u0027/g,"â€²"),i}sanitizeToHtmlElement(e,t){let r=this._parser.parseFromString("<div>"+e+"</div>","text/html");r&&"#document"===r.nodeName?this._cloneNode(r.body.firstChild,t):t.textContent=""}clone(e){let t=document.createElement(e.tagName);return this._cloneNode(e,t),t}sanitizeToHtmlString(e){let t="",r="",i=this._parser.parseFromString("<div>"+e.replace("&nbsp;","à¨€")+"</div>","text/html");return i&&"#document"===i.nodeName?([t,r]=this._stringify(i.body.firstChild,r),{htmlString:t,errorsString:r}):{htmlString:"",errorsString:"Parsing error"}}}),h=new s("Maneuver");class u{_objId=-1;_upgradeObject(t){switch(t.objType.version){case"1.0.0":case"1.1.0":case"1.2.0":case"1.3.0":case"1.4.0":case"1.5.0":case"1.6.0":case"1.7.0":case"1.7.1":case"1.8.0":case"1.9.0":case"1.10.0":case"1.11.0":"kArriveDefault"===t.iconName&&(t.distance=e.defaultValue);case"1.12.0":case"1.13.0":case"2.0.0":case"2.1.0":case"2.2.0":t.objType.version="2.3.0";break;default:throw new Error("invalid version for "+h.name)}}_validateObject(e){if(!Object.getOwnPropertyNames(e).includes("objType"))throw new Error("No objType for "+h.name);h.validate(e.objType),h.version!==e.objType.version&&this._upgradeObject(e);let t=Object.getOwnPropertyNames(e);return["iconName","instruction","distance","duration","itineraryPointObjId","objId"].forEach((e=>{if(!t.includes(e))throw new Error("No "+e+" for "+h.name)})),e}constructor(){this.iconName="",this.instruction="",this.itineraryPointObjId=-1,this.distance=e.defaultValue,this.duration=e.defaultValue,this._objId=a.nextObjId}get objType(){return h}get objId(){return this._objId}get jsonObject(){return{iconName:this.iconName,instruction:this.instruction,distance:parseFloat(this.distance.toFixed(e.fixed)),duration:this.duration,itineraryPointObjId:this.itineraryPointObjId,objId:this._objId,objType:h.jsonObject}}set jsonObject(t){let r=this._validateObject(t);this.iconName=r.iconName||"",this.instruction=r.instruction||"",this.distance=r.distance||e.defaultValue,this.duration=r.duration||e.defaultValue,this.itineraryPointObjId=r.itineraryPointObjId||-1,this._objId=a.nextObjId,this.validateData()}validateData(){"string"==typeof this.iconName?this.iconName=d.sanitizeToJsString(this.iconName):this.iconName="","string"==typeof this.instruction?this.instruction=d.sanitizeToJsString(this.instruction):this.instruction="","number"!=typeof this.distance&&(this.distance=e.defaultValue),"number"!=typeof this.duration&&(this.duration=e.defaultValue),"number"!=typeof this.itineraryPointObjId&&(this.itineraryPointObjId=-1)}}
/**
	@------------------------------------------------------------------------------------------------------------------------------

	@file BaseRouteProvider.js
	@copyright Copyright - 2017 2021 - wwwouaiebe - Contact: https://www.ouaie.be/
	@license GNU General Public License
	@private

	@------------------------------------------------------------------------------------------------------------------------------
	*/const c=["ar","da","de","en","eo","es","es-ES","fi","fr","he","hu","id","it","ja","ko","my","nl","no","pl","pt-BR","pt-PT","ro","ru","sl","sv","tr","uk","vi","yo","zh-Hans"];let g={supportedCodes:[],instructions:{},grammars:{},abbreviations:{}},f=g.instructions,p=g.grammars,m=g.abbreviations;const b=new class{_directionFromDegree(e,t){if(t||0===t){if(0>t&&360<t)throw new Error("Degree "+t+" invalid");return 20>=t?f[e].v5.constants.direction.north:70>t?f[e].v5.constants.direction.northeast:110>=t?f[e].v5.constants.direction.east:160>t?f[e].v5.constants.direction.southeast:200>=t?f[e].v5.constants.direction.south:250>t?f[e].v5.constants.direction.southwest:290>=t?f[e].v5.constants.direction.west:340>t?f[e].v5.constants.direction.northwest:f[e].v5.constants.direction.north}return""}async _fetchJson(e,t){let r=await fetch("TravelNotesProviders/languages/"+e+"/"+t+".json");if(200===r.status&&r.ok){let i=await r.json();g[e][t]=i}}constructor(){this.abbreviations=m}loadLanguage(e){let t=-1===c.indexOf(e)?"en":e;return["instructions","grammars","abbreviations"].forEach((e=>this._fetchJson(e,t))),t}capitalizeFirstLetter(e,t){return t.charAt(0).toLocaleUpperCase(e)+t.slice(1)}ordinalize(e,t){return f[e].v5.constants.ordinalize[t.toString()]||""}directionFromDegree(e,t){return this._directionFromDegree(e,t)}laneConfig(e){if(!e.intersections||!e.intersections[0].lanes)throw new Error("No lanes object");let t=[],r=null;return e.intersections[0].lanes.forEach((function(e){null!==r&&r===e.valid||(e.valid?t.push("o"):t.push("x"),r=e.valid)})),t.join("")}getWayName(e,t,r){let i=r&&r.classes||[];if("object"!=typeof t)throw new Error("step must be an Object");if(!Array.isArray(i))throw new Error("classes must be an Array or undefined");let a="",n=t.name||"",s=(t.ref||"").split(";")[0];n===t.ref&&(n=""),n=n.replace(" ("+t.ref+")","");let o=-1!==i.indexOf("motorway");if(n&&s&&n!==s&&!o){let t=f[e].v5.phrase["name and ref"]||f.en.v5.phrase["name and ref"];a=this.tokenize(e,t,{name:n,ref:s},r)}else a=n&&s&&o&&/\d/.test(s)||!n&&s?r&&r.formatToken?r.formatToken("ref",s):s:r&&r.formatToken?r.formatToken("name",n):n;return a}compile(e,t,r){if(!t.maneuver)throw new Error("No step maneuver provided");let i=r||{},a=t.maneuver.type,n=t.maneuver.modifier,s=t.mode,o=t.driving_side;if(!a)throw new Error("Missing step maneuver type");if("depart"!==a&&"arrive"!==a&&!n)throw new Error("Missing step maneuver modifier");f[e].v5[a]||(console.log("Encountered unknown instruction type: "+a),a="turn");let l=null;if(f[e].v5.modes[s])l=f[e].v5.modes[s];else{let t="off ramp"===a&&0<=n.indexOf(o);l=f[e].v5[a][n]&&!t?f[e].v5[a][n]:f[e].v5[a].default}let d=null;switch(a){case"use lane":d=f[e].v5.constants.lanes[this.laneConfig(t)],d||(l=f[e].v5["use lane"].no_lanes);break;case"rotary":case"roundabout":l=t.rotary_name&&t.maneuver.exit&&l.name_exit?l.name_exit:t.rotary_name&&l.name?l.name:t.maneuver.exit&&l.exit?l.exit:l.default}let h=this.getWayName(e,t,i),u=l.default;t.destinations&&t.exits&&l.exit_destination?u=l.exit_destination:t.destinations&&l.destination?u=l.destination:t.exits&&l.exit?u=l.exit:h&&l.name?u=l.name:i.waypointName&&l.named&&(u=l.named);let c=t.destinations&&t.destinations.split(": "),g=c&&c[0].split(",")[0],p=c&&c[1]&&c[1].split(",")[0],m="";m=p&&g?g+": "+p:g||p||"";let b=0<=i.legIndex&&i.legIndex!==i.legCount-1?this.ordinalize(e,i.legIndex+1):"",v={way_name:h,destination:m,exit:(t.exits||"").split(";")[0],exit_number:this.ordinalize(e,t.maneuver.exit||1),rotary_name:t.rotary_name,lane_instruction:d,modifier:f[e].v5.constants.modifier[n],direction:this.directionFromDegree(e,t.maneuver.bearing_after),nth:b,waypoint_name:i.waypointName};return this.tokenize(e,u,v,i)}grammarize(e,t,r){if(r&&p&&p[e]&&p[e].v5){let i=p[e].v5[r];if(i){let r=" "+t+" ",a=p[e].meta.regExpFlags||"";return i.forEach((function(e){let t=new RegExp(e[0],a);r=r.replace(t,e[1])})),r.trim()}}return t}tokenize(e,t,r,i){let a=this,n=!1,s=t.replace(/\{(\w+)(?::(\w+))?\}/g,(function(t,s,o,l){let d=r[s];return void 0===d?t:(d=a.grammarize(e,d,o),0===l&&f[e].meta.capitalizeFirstLetter&&(n=!0,d=a.capitalizeFirstLetter(e,d)),i&&i.formatToken&&(d=i.formatToken(s,d)),d)})).replace(/ {2}/g," ");return!n&&f[e].meta.capitalizeFirstLetter?this.capitalizeFirstLetter(e,s):s}},v=Object.freeze({turn:Object.freeze({default:"kUndefined","sharp left":"kTurnSharpLeft",left:"kTurnLeft","slight left":"kTurnSlightLeft",straight:"kTurnStraight","slight right":"kTurnSlightRight",right:"kTurnRight","sharp right":"kTurnSharpRight",uturn:"kTurnUturn"}),"new name":Object.freeze({default:"kUndefined","sharp left":"kNewNameSharpLeft",left:"kNewNameLeft","slight left":"kNewNameSlightLeft",straight:"kNewNameStraight","slight right":"kNewNameSlightRight",right:"kNewNameRight","sharp right":"kNewNameSharpRight"}),depart:Object.freeze({default:"kDepartDefault","sharp left":"kDepartLeft",left:"kDepartLeft","slight left":"kDepartLeft",straight:"kDepartDefault","slight right":"kDepartRight",right:"kDepartRight","sharp right":"kDepartRight"}),arrive:Object.freeze({default:"kArriveDefault","sharp left":"kArriveLeft",left:"kArriveLeft","slight left":"kArriveLeft",straight:"kArriveDefault","slight right":"kArriveRight",right:"kArriveRight","sharp right":"kArriveRight"}),merge:Object.freeze({default:"kMergeDefault","sharp left":"kMergeLeft",left:"kMergeLeft","slight left":"kMergeLeft",straight:"kMergeDefault","slight right":"kMergeRight",right:"kMergeRight","sharp right":"kMergeRight"}),"on ramp":Object.freeze({default:"kUndefined","sharp left":"kOnRampLeft",left:"kOnRampLeft","slight left":"kOnRampLeft","slight right":"kOnRampRight",right:"kOnRampRight","sharp right":"kOnRampRight"}),"off ramp":Object.freeze({default:"kUndefined","sharp left":"kOffRampLeft",left:"kOffRampLeft","slight left":"kOffRampLeft","slight right":"kOffRampRight",right:"kOffRampRight","sharp right":"kOffRampRight"}),fork:Object.freeze({default:"kUndefined","sharp left":"kForkLeft",left:"kForkLeft","slight left":"kForkLeft","slight right":"kForkRight",right:"kForkRight","sharp right":"kForkRight"}),"end of road":Object.freeze({default:"kUndefined","sharp left":"kEndOfRoadLeft",left:"kEndOfRoadLeft","slight left":"kEndOfRoadLeft","slight right":"kEndOfRoadRight",right:"kEndOfRoadRight","sharp right":"kEndOfRoadRight"}),continue:Object.freeze({default:"kUndefined","sharp left":"kContinueSharpLeft",left:"kContinueLeft","slight left":"kContinueSlightLeft",straight:"kContinueStraight","slight right":"kContinueSlightRight",right:"kContinueRight","sharp right":"kContinueSharpRight"}),roundabout:Object.freeze({default:"kUndefined","sharp left":"kRoundaboutLeft",left:"kRoundaboutLeft","slight left":"kRoundaboutLeft","slight right":"kRoundaboutRight",right:"kRoundaboutRight","sharp right":"kRoundaboutRight"}),rotary:Object.freeze({default:"kUndefined","sharp left":"kRotaryLeft",left:"kRotaryLeft","slight left":"kRotaryLeft","slight right":"kRotaryRight",right:"kRotaryRight","sharp right":"kRotaryRight"}),"roundabout turn":Object.freeze({default:"kUndefined","sharp left":"kRoundaboutTurnSharpLeft",left:"kRoundaboutTurnLeft","slight left":"kRoundaboutTurnSlightLeft",straight:"kRoundaboutTurnStraight","slight right":"kRoundaboutTurnSlightRight",right:"kRoundaboutTurnRight","sharp right":"kRoundaboutTurnSharpRight"}),notification:Object.freeze({default:"kUndefined"}),default:Object.freeze({default:"kUndefined"})});
/**
	@------------------------------------------------------------------------------------------------------------------------------

	@file IconList.js
	@copyright Copyright - 2017 2021 - wwwouaiebe - Contact: https://www.ouaie.be/
	@license GNU General Public License
	@private

	@------------------------------------------------------------------------------------------------------------------------------
	*/window.TaN.addProvider(class extends class{_userLanguage="fr";_providerKey="";_route=null;_getRoute(e,t){}constructor(){}get icon(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAIAAAC0Ujn1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAArSURBVEhL7cyxDQAgAAQh91/67ektTI4BOHumGtWoRjWqUY1qVKMaP9bbBZKXggu6NeCUAAAAAElFTkSuQmCC"}getPromiseRoute(e){return this._route=e,new Promise(((e,t)=>this._getRoute(e,t)))}get name(){return""}get title(){return""}get transitModes(){return[]}get providerKeyNeeded(){return!0}get providerKey(){return this._providerKey.length}set providerKey(e){this._providerKey=e}get userLanguage(){return this._userLanguage}set userLanguage(e){this._userLanguage=e}}{_userLanguage="fr";_providerKey="";_route=null;_parseResponse(e,t,r){if("Ok"!==e.code)return void r(new Error("Response code not ok"));if(0===e.routes.length)return void r(new Error("Route not found"));this._route.itinerary.itineraryPoints.removeAll(),this._route.itinerary.maneuvers.removeAll(),this._route.itinerary.hasProfile=!1,this._route.itinerary.ascent=0,this._route.itinerary.descent=0,e.routes[0].geometry=i.decode(e.routes[0].geometry,[6,6]),e.routes[0].legs.forEach((e=>{let t=0;e.steps.forEach((r=>{r.geometry=i.decode(r.geometry,[6,6]),"arrive"===r.maneuver.type&&2===r.geometry.length&&r.geometry[0][0]===r.geometry[1][0]&&r.geometry[0][1]===r.geometry[1][1]&&r.geometry.pop();let a=new u;a.iconName=v[r.maneuver.type]?v[r.maneuver.type][r.maneuver.modifier]||v[r.maneuver.type].default:v.default.default,a.instruction=b.compile(this.userLanguage,r),a.duration=r.duration;let n=0;for(let i=0;1===r.geometry.length?1>i:i<r.geometry.length;i++){let s=new l;s.latLng=[r.geometry[i][0],r.geometry[i][1]],s.distance=e.annotation.distance[t]?e.annotation.distance[t]:0,this._route.itinerary.itineraryPoints.add(s),i!==r.geometry.length-1&&(n+=s.distance,t++),0===i&&(a.itineraryPointObjId=s.objId)}a.distance=n,this._route.itinerary.maneuvers.add(a)}))}));let a=this._route.wayPoints.iterator;e.waypoints.forEach((e=>{a.done||(a.value.latLng=[e.location[1],e.location[0]])})),t(this._route)}_getUrl(){let e=null;this._route.wayPoints.forEach((t=>{e=e?e+";":"",e+=t.lng.toFixed(r.fixed)+","+t.lat.toFixed(r.fixed)}));let t="";switch(this._route.itinerary.transitMode){case"car":t="mapbox/driving/";break;case"bike":t="mapbox/cycling/";break;case"pedestrian":t="mapbox/walking/";break;default:return}return"https://api.mapbox.com/directions/v5/"+t+e+"?geometries=polyline6&overview=full&steps=true&annotations=distance&access_token="+this._providerKey}_getRoute(e,t){fetch(this._getUrl()).then((r=>{200===r.status&&r.ok?r.json().then((r=>this._parseResponse(r,e,t))):t(new Error("Invalid status "+r.status))}))}constructor(){super()}get icon(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AocEwcBrMn63AAAAk1JREFUSMftlj9oU1EUxn8neQ0thE6lgpO1TiptHhShJiIu2qHJA6FudtBRUBcpouJUnRyqgpODVcG62LROHfzHexGiJWkEQbCr0IqVYKPStDkOpuYRfW1eTNCh33Tvufec717udz8ObOFfITqV3XA9Njn3W+xAMuO7pnhs7AQiwCqwpvBNVN47Vu8SQDSZwbFMqsexyUyHinQjtAEBwACyTiKyWM1heBzyMHDXdbplRCeiyexVCei8HTfpf5gCwLFM9k/lEF3bpSIXgWNAm6vWceBercQrVfMwcBKhvVRcOwEst2zbXlldXQljGFeAoRpqbUjshSExgo9iM6kHLw7uUIDYTEr0ezDuQeoJw7/8ZLRUCD/ZNz6/AFAqFDolWBr1WyVQh/C7JKgj6eFu0sPdSFBHgC6/RWq7sbCI0g60/gzoqWhy7v762LXzC/AR2NmQG6tyE3jnCoUQHUN0DAi54m+BGw27sUAGyAOjZYUD9Fdty4vqLRX51Mg3bnUSkevAm6rc9XwFXtuWeafyHI0hDgCI6AXg8x/WlwTO+6npS9V23HwKJMtW+ss+FCbsRORVU79TMdByFlhwhT60hELnmvqP+6dzpAf35BG9DBSBoqheej6w+2vsca55xC/jPei04sTN20AKsG3LHN87cg17sKe5ztXHbFnHclrgDEDHwFGa41wuzMb7iCbncKzeHEBsKsuzQ74dsy6vxrF6K0pPROrqdOoibgT+O+LQJvONUFOul7hmgCNlhzKArA/i+nK92tvN2t6/zd1C0/ADiOy3l0UZHxAAAAAASUVORK5CYII="}getPromiseRoute(e){return this._route=e,new Promise(((e,t)=>this._getRoute(e,t)))}get name(){return"Mapbox"}get title(){return"Mapbox"}get transitModes(){return["bike","pedestrian","car"]}get providerKeyNeeded(){return!0}get providerKey(){return this._providerKey.length}set providerKey(e){this._providerKey=e}get userLanguage(){return this._userLanguage}set userLanguage(e){this._userLanguage=e}})}();